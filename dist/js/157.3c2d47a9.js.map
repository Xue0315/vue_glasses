{"version":3,"file":"js/157.3c2d47a9.js","mappings":"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","sources":["webpack://vue_glasses/./src/utils/localStorage.js","webpack://vue_glasses/./src/components/Section.vue","webpack://vue_glasses/./src/components/Section.vue?20bb","webpack://vue_glasses/./src/views/user/UserFavorite.vue","webpack://vue_glasses/./src/views/user/UserFavorite.vue?4656"],"sourcesContent":["class LocalStorage {\r\n  constructor () {\r\n    if (!window.localStorage) {\r\n      console.error('當前的開發環境不支援 localStorage')\r\n    }\r\n  }\r\n\r\n  get (key) {\r\n    if (!key) {\r\n      console.error('缺少取得localstorage 的 key')\r\n      return\r\n    }\r\n    const data = window.localStorage.getItem(key)\r\n    if (!data) {\r\n      return {}\r\n    }\r\n    return JSON.parse(data)\r\n  }\r\n\r\n  set (key, value) {\r\n    if (!key) {\r\n      console.error('缺少取得localstorage 的 key')\r\n      return\r\n    }\r\n    if (!value) {\r\n      console.error('缺少取得localstorage 的 value')\r\n      return\r\n    }\r\n    window.localStorage.setItem(key, JSON.stringify(value))\r\n  }\r\n}\r\nexport default new LocalStorage()\r\n","<template>\r\n  <div class=\"bg-section mt-5\">\r\n    <div class=\"container\">\r\n      <div class=\"d-block section d-md-flex p-5\">\r\n        <div class=\"d-flex item d-md-block d-lg-flex w-100 \">\r\n          <div class=\"logo\">\r\n            <i class=\"fa-solid fa-truck text-white fs-2 pt-2\"></i>\r\n          </div>\r\n          <div class=\"text text-white fw-bold mx-2\">\r\n            <span>免費送府</span>\r\n            <p>配完眼鏡隔天請專人送上府</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-flex item d-md-block d-lg-flex w-100 \">\r\n          <div class=\"logo\">\r\n            <i class=\"fa-solid fa-gift text-white fs-2 pt-2\"></i>\r\n          </div>\r\n          <div class=\"text text-white fw-bold mx-2\">\r\n            <span>加碼送</span>\r\n            <p>花費$8000再送一副太陽眼鏡</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-flex item d-md-block d-lg-flex w-100 \">\r\n          <div class=\"logo\">\r\n            <i class=\"fa-solid fa-hand-holding-dollar text-white fs-2 pt-2\"></i>\r\n          </div>\r\n          <div class=\"text text-white fw-bold mx-2\">\r\n            <span>紅利點數</span>\r\n            <p>1點可折抵消費金1元</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TheSection'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bg-section{\r\n  background-color: #412621;\r\n}\r\n.section{\r\n  justify-content: center;\r\n  span{\r\n    font-size: 22px;\r\n  }\r\n  @media (max-width: 992px) {\r\n    span{\r\n      font-size: 18px;\r\n    }\r\n    p{\r\n      font-size: 14px;\r\n    }\r\n    text-align: center;\r\n  }\r\n  .item{\r\n    justify-content: center;\r\n    @media (max-width: 768px) {\r\n      justify-content: start;\r\n      text-align: left;\r\n      margin-top: 40px;;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Section.vue?vue&type=template&id=2cc0195b&scoped=true\"\nimport script from \"./Section.vue?vue&type=script&lang=js\"\nexport * from \"./Section.vue?vue&type=script&lang=js\"\n\nimport \"./Section.vue?vue&type=style&index=0&id=2cc0195b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2cc0195b\"]])\n\nexport default __exports__","<template>\r\n  <router-view/>\r\n  <div class=\"bg-light\">\r\n    <div class=\"favorite-banner position-relative mb-5\">\r\n      <div class=\"favorite-title bg-dark bg-opacity-50 w-100 position-absolute bottom-0 d-flex align-items-center h-100\">\r\n        <h1 class=\"text-white fw-bold mx-auto \">收藏商品</h1>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <ul class=\"col-12 d-flex flex-wrap control-center\">\r\n          <li v-for=\"item in favorite\" :key=\"item.id\" class=\"list-unstyled col-md-6 col-lg-4 col-xl-3 my-2\">\r\n            <div class=\"card h-100 m-2\">\r\n              <a href=\"#\" class=\"stretched-link\" @click.prevent=\"productDetail(item.id)\">\r\n                <div class=\"control-img overflow-hidden \">\r\n                  <button type=\"button\" class=\"btn bg-dark bg-opacity-25 position-absolute text-white fs-3 fw-bold\">查看更多</button>\r\n                  <img :src=\"item.imageUrl\" class=\"card-img-top favorite-img\" :alt=\"item.title\">\r\n                </div>\r\n              </a>\r\n              <div class=\"card-body text-center\">\r\n                <span class=\"fa-solid text-end z-2 fa-heart\" :class=\"{'favorite': isFavorite}\" @click.stop=\"favoriteBtn(item)\"></span>\r\n                <span class=\"card-title fw-bold\">{{ item.title }}</span>\r\n                <p class=\"card-text fw-bold\">NT${{ $filter.currency(item.price) }}</p>\r\n                <div class=\"text-start\">\r\n                  <button type=\"button\" class=\"btn btn-primary text-white position-relative z-2 addbtn\"  @click=\"addCart(item.id)\">\r\n                    <span class=\"spinner-border spinner-border-sm mx-1\" role=\"status\" aria-hidden=\"true\" v-if=\"status.loadingItem === item.id\"></span>\r\n                    <span class=\"visually-hidden\" v-if=\"status.loadingItem === item.id\">Loading...</span>加入購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"nothing text-center w-100 my-5 d-flex flex-column justify-content-center align-items-center\" v-if=\"!favoriteNum\">\r\n        <img src=\"https://www.svgrepo.com//show/533045/cart-xmark.svg\" alt=\"xmark\" width=\"80\" height=\"80\">\r\n        <p class=\"fw-bold fs-2 text-info  \">目前沒有收藏商品</p>\r\n        <button type=\"button\" class=\"btn btn-outline-info fw-bold my-3 p-2 fs-4\" @click=\"proceedPage\">前往商品頁面</button>\r\n      </div>\r\n      <div class=\"saleTitle text-center\" data-aos=\"fade-right\" data-aos-duration=\"2000\">\r\n        <ProductOnsale/>\r\n      </div>\r\n    </div>\r\n  <Section></Section>\r\n  <Footer></Footer>\r\n  <SocialMedia/>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport LocalStorage from '@/utils/localStorage.js'\r\nimport Footer from '@/components/Footer.vue'\r\nimport ProductOnsale from '@/components/ProductOnsale.vue'\r\nimport SocialMedia from '@/components/SocialMedia.vue'\r\nimport Section from '@/components/Section.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      favorite: [],\r\n      favoriteNum: 0,\r\n      isFavorite: true,\r\n      status: {\r\n        loadingItem: ''\r\n      }\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getFavorite () {\r\n      this.favorite = LocalStorage.get('favorite') || []\r\n      this.favoriteNum = (LocalStorage.get('favorite') || []).length\r\n    },\r\n    favoriteBtn (item) {\r\n      const id = item.id\r\n      const hasFavorite = this.favorite.some((item) => item.id === id)\r\n      if (hasFavorite) {\r\n        const delFavorite = this.favorite.find(item => item.id === id)\r\n        this.favorite.splice(this.favorite.indexOf(delFavorite), 1)\r\n        LocalStorage.set('favorite', this.favorite)\r\n        this.$pushMessage(true, '移除收藏')\r\n      }\r\n      this.getFavorite()\r\n      this.emitter.emit('update-favorite')\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const product = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(api, { data: product }).then(res => {\r\n        this.$pushMessage(res, '加入購物車')\r\n        this.emitter.emit('update-cart')\r\n        this.status.loadingItem = ''\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    productDetail (id) {\r\n      this.$router.push(`/products/${id}`)\r\n    },\r\n    proceedPage () {\r\n      this.$router.push('/products')\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getFavorite()\r\n  },\r\n  components: { ProductOnsale, Footer, SocialMedia, Section }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.favorite-banner{\r\n  height: 300px;\r\n  background-image: url('https://images.unsplash.com/photo-1581022295087-35e593704911?auto=format&fit=crop&q=80&w=2070&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position:center;\r\n  .favorite-title{\r\n    h1{\r\n      position: relative;\r\n      top: 40px;\r\n    }\r\n  }\r\n}\r\n.control-center{\r\n  @media (max-width: 768px) {\r\n    justify-content: center;\r\n  }\r\n}\r\n.card{\r\n  width: 19.5rem;\r\n  @media (max-width: 1400px) {\r\n    width: 16.5rem;\r\n  }\r\n  @media (max-width: 1200px) {\r\n    width: 18.5rem;\r\n  }\r\n  @media (max-width: 1000px) {\r\n    width: 21rem;\r\n  }\r\n  cursor: pointer;\r\n  &:hover{\r\n    .btn.bg-dark{\r\n      opacity: 1;\r\n      width: 100%;\r\n      height: 300px;\r\n    }\r\n    img{\r\n      transform: scale(1.1);\r\n      transition: .5s;\r\n    }\r\n  }\r\n  .favorite-img{\r\n    width: 100%;\r\n    height: 300px;\r\n    object-fit: cover;\r\n    position: relative;\r\n  }\r\n  .btn.bg-dark{\r\n    opacity: 0;\r\n    z-index: 1;\r\n  }\r\n  .card-body{\r\n    .addbtn{\r\n      width: 85%;\r\n    }\r\n    height: 120px;\r\n      .card-title{\r\n        font-size: 20px;\r\n        @media (max-width: 1400px) {\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    .fa-heart{\r\n      font-size: 30px;\r\n      color: #ccc;\r\n      position:absolute;\r\n      bottom: 15px;\r\n      right: 12px;\r\n      &.favorite{\r\n        color: #ff4d4d;\r\n      }\r\n      &:hover{\r\n        color: #ccc;\r\n      }\r\n    }\r\n  }\r\n}\r\n.nothing{\r\n  height: 500px;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./UserFavorite.vue?vue&type=template&id=be242722&scoped=true\"\nimport script from \"./UserFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&lang=js\"\n\nimport \"./UserFavorite.vue?vue&type=style&index=0&id=be242722&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be242722\"]])\n\nexport default __exports__"],"names":["LocalStorage","constructor","window","localStorage","console","error","get","key","data","getItem","JSON","parse","set","value","setItem","stringify","class","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","name","__exports__","render","_createElementVNode","type","role","src","alt","width","height","_createVNode","_component_router_view","_hoisted_4","_hoisted_5","_Fragment","_renderList","$data","favorite","item","id","_hoisted_6","href","onClick","_withModifiers","$event","$options","productDetail","_hoisted_8","_hoisted_9","imageUrl","title","_hoisted_11","_normalizeClass","isFavorite","favoriteBtn","_hoisted_13","_toDisplayString","_hoisted_14","_ctx","$filter","currency","price","_hoisted_15","addCart","status","loadingItem","_hoisted_17","_hoisted_18","favoriteNum","_hoisted_19","_hoisted_20","_hoisted_21","_cache","args","proceedPage","_hoisted_22","_component_ProductOnsale","_component_Section","_component_Footer","_component_SocialMedia","inject","methods","getFavorite","this","length","hasFavorite","some","delFavorite","find","splice","indexOf","$pushMessage","emitter","emit","api","product","product_id","qty","$http","post","then","res","catch","err","log","$router","push","mounted","components","ProductOnsale","Footer","SocialMedia","Section"],"sourceRoot":""}