{"version":3,"file":"js/213.6faca0b1.js","mappings":"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","sources":["webpack://vue_glasses/./src/views/admin/AdminCart.vue","webpack://vue_glasses/./src/views/admin/AdminCart.vue?0931"],"sourcesContent":["<template>\r\n<Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-7\">\r\n        <table class=\"table mt-4\">\r\n          <thead>\r\n            <tr>\r\n              <th>圖片</th>\r\n              <th>產品名稱</th>\r\n              <th>價格</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in products\" :key=\"item.id\">\r\n              <td style=\"width:200px\">\r\n                <div style=\"height:100px; background-size:cover; background-position: center;\"\r\n                :style=\"{backgroundImage: `url(${item.imageUrl})`}\">\r\n                </div>\r\n              </td>\r\n              <td>\r\n                {{ item.title }}\r\n              </td>\r\n              <td>\r\n                  <div class=\"h5\" v-if=\"!item.origin_price\">{{ item.origin_price }}</div>\r\n                  <del class=\"h6\" v-if=\"item.price\">原價{{ $filter.currency(item.origin_price) }}元</del>\r\n                  <div class=\"h5\" v-if=\"item.price\">現在只要{{ $filter.currency(item.price) }}元</div>\r\n              </td>\r\n              <td>\r\n                <div class=\"btn-group btn-group-sm\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"productDetail(item.id)\">查看更多</button>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addCart(item.id)\"\r\n                    :disabled=\"status.loadingItem === item.id \">\r\n                    加入購物車\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-md-5\">\r\n        <div class=\"sticky-top\">\r\n          <template v-if=\"cart.carts\">\r\n            <table class=\"table mt-4\">\r\n              <thead>\r\n                  <tr>\r\n                      <th></th>\r\n                      <th>品名</th>\r\n                      <th style=\"width: 110px;\">數量</th>\r\n                      <th >單價</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(item,key) in cart.carts\" :key=\"key\">\r\n                  <td>\r\n                    <button type=\"button\" class=\"btn btn-outline-danger\" :disabled=\"item.id === status.loadingItem\" @click=\"deleteCart(item.id)\">\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                  </td>\r\n                  <td style=\"width: 200px;\">\r\n                    {{ item.product.title }}\r\n                    <div v-if=\"item.coupon\" class=\"text-success\">已套用優惠券</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"input-group input-group-sm\">\r\n                      <input type=\"number\" min=\"1\" class=\"form-control\" v-model=\"item.qty\" @click=\"updateCart(item)\">\r\n                      <div class=\"input-group-text\">/{{ item.product.unit }}</div>\r\n                    </div>\r\n                  </td>\r\n                  <td style=\"width: 180px;\" class=\"text-end\">\r\n                    <small v-if=\"item.coupon\" class=\"text-success\">折扣價 : </small>{{ $filter.currency(item.final_total) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                  <td class=\"text-end\">{{ $filter.currency(cart.total) }}</td>\r\n                </tr>\r\n                <tr v-if=\"cart.total !== cart.final_total\">\r\n                  <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n                  <td class=\"text-end\">{{ $filter.currency(cart.final_total) }}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          <div class=\"mt-3 input-group \">\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" v-model=\"code\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"checkCode\">套用優惠碼</button>\r\n          </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"my-5 row justify-content-center\">\r\n    <Form class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"addOrder\">\r\n      <div class=\"mb-3\">\r\n        <div class=\"mb-1\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n        </div>\r\n        <Field type=\"email\" id=\"email\" name=\"email\"  class=\"form-control\" placeholder=\"請輸入Email\" rules=\"email|required\"\r\n          :class=\"{ 'is-invalid': errors['email'] }\" v-model=\"form.user.email\">\r\n        </Field>\r\n        <ErrorMessage name=\"email\" class=\"invalid-feedback\" ></ErrorMessage>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <div class=\"mb-1\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n        </div>\r\n        <Field type=\"text\" id=\"name\" name=\"姓名\"  class=\"form-control\" placeholder=\"請輸入姓名\" rules=\"required\"\r\n          :class=\"{ 'is-invalid': errors['姓名'] }\" v-model=\"form.user.name\">\r\n        </Field>\r\n        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <div class=\"mb-1\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n        </div>\r\n        <Field type=\"text\" id=\"tel\" name=\"電話\" class=\"form-control\" placeholder=\"請輸入電話\" rules=\"required\"\r\n          :class=\"{ 'is-invalid': errors['電話'] }\" v-model=\"form.user.tel\">\r\n        </Field>\r\n        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <div class=\"mb-1\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n        </div>\r\n        <Field type=\"text\" id=\"address\" name=\"地址\"  class=\"form-control\" placeholder=\"請輸入地址\" rules=\"required\"\r\n          :class=\"{ 'is-invalid': errors['地址'] }\" v-model=\"form.user.address\">\r\n        </Field>\r\n        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <div class=\"mb-1\">\r\n          <label for=\"message\">留言</label>\r\n        </div>\r\n        <textarea type=\"text\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\r\n      </div>\r\n      <div class=\"text-end mt-3\">\r\n        <button type=\"button\" class=\"btn btn-danger\">送出訂單</button>\r\n      </div>\r\n    </Form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      cart: [],\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      form: {\r\n        user: {\r\n          email: '',\r\n          name: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      tempOrderId: '',\r\n      code: ''\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`\r\n      this.$http.get(api).then(res => {\r\n        this.products = res.data.products\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    productDetail (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const product = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(api, { data: product }).then(res => {\r\n        this.getCart()\r\n        this.$pushMessage(res, '加入購物車')\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    getCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(api).then(res => {\r\n        if (res.data.success) {\r\n          this.cart = res.data.data\r\n          this.isLoading = false\r\n        }\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    deleteCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.status.loadingItem = id\r\n      this.$http.delete(api).then(res => {\r\n        this.getCart()\r\n        this.$pushMessage(res, '刪除')\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      const product = {\r\n        product_id: item.id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(api, { data: product }).then(() => {\r\n        this.getCart()\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    checkCode () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const CouponCode = {\r\n        code: this.code\r\n      }\r\n      this.$http.post(api, { data: CouponCode }).then(res => {\r\n        this.$pushMessage(res, '套用優惠券')\r\n        this.getCart()\r\n        this.code = ''\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    },\r\n    addOrder () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(api, { data: order }).then(res => {\r\n        this.tempOrderId = res.data.orderId\r\n        this.$router.push(`/user/checkout/${this.tempOrderId}`)\r\n      }).catch((err) => {\r\n        this.$pushMessage(err.response)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./AdminCart.vue?vue&type=template&id=da588ae4\"\nimport script from \"./AdminCart.vue?vue&type=script&lang=js\"\nexport * from \"./AdminCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_18","colspan","for","type","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","products","item","key","id","_hoisted_6","_normalizeStyle","backgroundImage","imageUrl","_toDisplayString","title","origin_price","_hoisted_7","price","_hoisted_8","_ctx","$filter","currency","_hoisted_9","_hoisted_10","onClick","$event","$options","productDetail","_hoisted_11","addCart","disabled","status","loadingItem","_hoisted_12","_hoisted_13","_hoisted_14","cart","carts","_hoisted_15","_hoisted_16","deleteCart","_hoisted_20","product","coupon","_hoisted_21","_hoisted_22","min","qty","updateCart","_hoisted_24","unit","_hoisted_25","_hoisted_26","final_total","_hoisted_27","_hoisted_28","total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","placeholder","code","_cache","args","checkCode","_hoisted_33","_component_Form","onSubmit","addOrder","errors","_hoisted_34","_hoisted_35","_component_Field","name","_normalizeClass","rules","form","user","email","_component_ErrorMessage","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","tel","_hoisted_40","_hoisted_41","address","_hoisted_42","_hoisted_43","cols","rows","message","_hoisted_44","data","tempOrderId","inject","methods","getProducts","api","this","$http","get","then","res","catch","err","$pushMessage","response","$router","push","product_id","post","getCart","success","delete","put","CouponCode","order","orderId","created","__exports__","render"],"sourceRoot":""}