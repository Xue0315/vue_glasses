"use strict";(self["webpackChunkvue_glasses"]=self["webpackChunkvue_glasses"]||[]).push([[473],{7589:function(t,a,e){e.d(a,{Z:function(){return v}});var i=e(3396);const s={class:"bg-section mt-5"},o=(0,i.uE)('<div class="container" data-v-7a375097><div class="d-block section d-md-flex p-5" data-v-7a375097><div class="d-flex item d-md-block d-lg-flex w-100" data-v-7a375097><div class="logo" data-v-7a375097><i class="fa-solid fa-truck text-white fs-2 pt-2" data-v-7a375097></i></div><div class="text text-white fw-bold mx-2" data-v-7a375097><span data-v-7a375097>免費送府</span><p data-v-7a375097>配完眼鏡隔天請專人送上府</p></div></div><div class="d-flex item d-md-block d-lg-flex w-100" data-v-7a375097><div class="logo" data-v-7a375097><i class="fa-solid fa-gift text-white fs-2 pt-2" data-v-7a375097></i></div><div class="text text-white fw-bold mx-2" data-v-7a375097><span data-v-7a375097>加碼送</span><p data-v-7a375097>花費$8000再送一副太陽眼鏡</p></div></div><div class="d-flex item d-md-block d-lg-flex w-100" data-v-7a375097><div class="logo" data-v-7a375097><i class="fa-solid fa-hand-holding-dollar text-white fs-2 pt-2" data-v-7a375097></i></div><div class="text text-white fw-bold mx-2" data-v-7a375097><span data-v-7a375097>紅利點數</span><p data-v-7a375097>1點可折抵消費金1元</p></div></div></div></div>',1),d=[o];function l(t,a,e,o,l,r){return(0,i.wg)(),(0,i.iD)("div",s,d)}var r={},n=e(89);const c=(0,n.Z)(r,[["render",l],["__scopeId","data-v-7a375097"]]);var v=c},9911:function(t,a,e){e.r(a),e.d(a,{default:function(){return q}});var i=e(3396),s=e(9242),o=e(7139);const d=t=>((0,i.dD)("data-v-6f0de9df"),t=t(),(0,i.Cn)(),t),l={class:"bg-light"},r=d((()=>(0,i._)("div",{class:"favorite-banner position-relative mb-5"},[(0,i._)("div",{class:"favorite-title bg-dark bg-opacity-50 w-100 position-absolute bottom-0 d-flex align-items-center h-100"},[(0,i._)("h1",{class:"text-white fw-bold mx-auto"},"收藏商品")])],-1))),n={class:"container"},c={class:"row"},v={class:"col-12 d-flex flex-wrap justify-content-center"},f={class:"card h-100 m-2",style:{width:"21.5rem"}},u=["onClick"],p={class:"control-img overflow-hidden"},h=d((()=>(0,i._)("button",{type:"button",class:"btn bg-dark bg-opacity-25 position-absolute text-white fs-3 fw-bold"}," 查看更多",-1))),g=["src"],m={class:"card-body text-center"},w=["onClick"],x={class:"card-title"},b={class:"card-text"},k=["onClick"],_={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},y={key:1,class:"visually-hidden"},C={key:0,class:"nothing text-center w-100 my-5 d-flex flex-column justify-content-center align-items-center"},D=d((()=>(0,i._)("img",{src:"https://www.svgrepo.com//show/533045/cart-xmark.svg",alt:"xmark",width:"80",height:"80"},null,-1))),I=d((()=>(0,i._)("p",{class:"fw-bold fs-2 text-info"},"目前沒有收藏商品",-1))),S={class:"saleTitle text-center","data-aos":"fade-right","data-aos-duration":"2000"};function $(t,a,e,d,$,F){const N=(0,i.up)("router-view"),Z=(0,i.up)("ProductOnsale"),M=(0,i.up)("Section"),O=(0,i.up)("Footer"),P=(0,i.up)("SocialMedia");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(N),(0,i._)("div",l,[r,(0,i._)("div",n,[(0,i._)("div",c,[(0,i._)("ul",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.favorite,(a=>((0,i.wg)(),(0,i.iD)("li",{key:a.id,class:"list-unstyled"},[(0,i._)("div",f,[(0,i._)("a",{href:"#",class:"stretched-link",onClick:(0,s.iM)((t=>F.productDetail(a.id)),["prevent"])},[(0,i._)("div",p,[h,(0,i._)("img",{src:a.imageUrl,class:"card-img-top favorite-img"},null,8,g)])],8,u),(0,i._)("div",m,[(0,i._)("span",{class:(0,o.C_)(["fa-solid text-end z-2 fa-heart fs-3",{favorite:$.isFavorite}]),onClick:(0,s.iM)((t=>F.favoriteBtn(a)),["stop"])},null,10,w),(0,i._)("h5",x,(0,o.zw)(a.title),1),(0,i._)("p",b,"NT$"+(0,o.zw)(t.$filter.currency(a.price)),1),(0,i._)("button",{type:"button",class:"btn btn-primary text-light w-75 position-relative z-2",onClick:t=>F.addCart(a.id)},[$.status.loadingItem===a.id?((0,i.wg)(),(0,i.iD)("span",_)):(0,i.kq)("",!0),$.status.loadingItem===a.id?((0,i.wg)(),(0,i.iD)("span",y,"Loading...")):(0,i.kq)("",!0),(0,i.Uk)("加入購物車 ")],8,k)])])])))),128))])]),$.favoriteNum?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",C,[D,I,(0,i._)("button",{class:"btn btn-outline-info fw-bold my-3 p-2 fs-4",onClick:a[0]||(a[0]=(...t)=>F.proceedPage&&F.proceedPage(...t))},"前往商品頁面")])),(0,i._)("div",S,[(0,i.Wm)(Z)])]),(0,i.Wm)(M),(0,i.Wm)(O),(0,i.Wm)(P)])],64)}e(7658);var F=e(7750),N=e(9915),Z=e(339),M=e(7589),O={data(){return{favorite:[],favoriteNum:0,isFavorite:!0,status:{loadingItem:""}}},inject:["emitter"],methods:{getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteNum=(JSON.parse(localStorage.getItem("favorite"))||[]).length},favoriteBtn(t){const a=t.id,e=this.favorite.some((t=>t.id===a));if(e){const t=this.favorite.find((t=>t.id===a));this.favorite.splice(this.favorite.indexOf(t),1),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$pushMessage(!0,"移除收藏")}this.getFavorite(),this.emitter.emit("update-favorite")},addCart(t){const a="https://vue3-course-api.hexschool.io/api/colpp61109/cart";this.status.loadingItem=t;const e={product_id:t,qty:1};this.$http.post(a,{data:e}).then((t=>{this.$pushMessage(t,"加入購物車"),this.emitter.emit("update-cart"),this.status.loadingItem=""}))},productDetail(t){this.$router.push(`/products/${t}`)},proceedPage(){this.$router.push("/products")}},mounted(){this.getFavorite()},components:{ProductOnsale:N.Z,Footer:F.Z,SocialMedia:Z.Z,Section:M.Z}},P=e(89);const W=(0,P.Z)(O,[["render",$],["__scopeId","data-v-6f0de9df"]]);var q=W}}]);
//# sourceMappingURL=473.e6cd9cbf.js.map