{"version":3,"file":"js/705.634095e6.js","mappings":"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","sources":["webpack://vue_glasses/./src/views/admin/AdminCart.vue","webpack://vue_glasses/./src/views/admin/AdminCart.vue?0931"],"sourcesContent":["<template>\r\n<Loading :active=\"isLoading\"></Loading>\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-7\">\r\n                <table class=\"table mt-4\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>圖片</th>\r\n                            <th>產品名稱</th>\r\n                            <th>價格</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                            <tr v-for=\"item in products\" :key=\"item.id\">\r\n                                <td style=\"width:200px\">\r\n                                    <div style=\"height:100px; background-size:cover; background-position: center;\" \r\n                                    :style=\"{backgroundImage: `url(${item.imageUrl})`}\">\r\n                                    </div>\r\n                                </td>\r\n                                <td>{{ item.title }}</td>\r\n                                <td>\r\n                                    <div class=\"h5\" v-if=\"!item.origin_price\">{{ item.origin_price }}</div> \r\n                                    <del class=\"h6\" v-if=\"item.price\">原價{{ $filter.currency(item.origin_price) }}元</del> \r\n                                    <div class=\"h5\" v-if=\"item.price\">現在只要{{ $filter.currency(item.price) }}元</div> \r\n                                </td>\r\n                                <td>\r\n                                    <div class=\"btn-group btn-group-sm\">\r\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"productDetail(item.id)\">查看更多</button>\r\n                                        <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addCart(item.id)\"\r\n                                            :disabled=\"status.loadingItem === item.id \">\r\n                                            加入購物車</button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class=\"col-md-5\">\r\n                <div class=\"sticky-top\">\r\n                    <template v-if=\"cart.carts\">\r\n                        <table class=\"table mt-4\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th></th>\r\n                                <th>品名</th>\r\n                                <th style=\"width: 110px;\">數量</th>\r\n                                <th >單價</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"(item,key) in cart.carts\" :key=\"key\">\r\n                                <td>\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\" :disabled=\"item.id === status.loadingItem\" @click=\"deleteCart(item.id)\">\r\n                                        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                                </td>\r\n                                <td style=\"width: 200px;\">\r\n                                    {{ item.product.title }}\r\n                                    <div v-if=\"item.coupon\" class=\"text-success\">已套用優惠券</div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class=\"input-group input-group-sm\">\r\n                                        <input type=\"number\" min=\"1\" class=\"form-control\" v-model=\"item.qty\" @click=\"updateCart(item)\">\r\n                                        <div class=\"input-group-text\">/{{ item.product.unit }}</div>\r\n                                    </div>\r\n                                </td>\r\n                                <td style=\"width: 180px;\" class=\"text-end\">\r\n                                    <small v-if=\"item.coupon\" class=\"text-success\">折扣價 : </small>{{ $filter.currency(item.final_total) }}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                                <td class=\"text-end\">{{ $filter.currency(cart.total) }}</td>\r\n                            </tr>\r\n                            <tr v-if=\"cart.total !== cart.final_total\">\r\n                                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n                                <td class=\"text-end\">{{ $filter.currency(cart.final_total) }}</td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                            <div class=\"mt-3 input-group \">\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" v-model=\"code\">\r\n                                <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"checkCode\">套用優惠碼</button>\r\n                            </div>    \r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"my-5 row justify-content-center\">\r\n            <Form class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"addOrder\">\r\n                <div class=\"mb-3\">\r\n                    <div class=\"mb-1\">\r\n                        <label for=\"email\" class=\"form-label\">Email</label>\r\n                    </div>\r\n                    <Field type=\"email\" id=\"email\" name=\"email\"  class=\"form-control\" placeholder=\"請輸入Email\" rules=\"email|required\" \r\n                    :class=\"{ 'is-invalid': errors['email'] }\" v-model=\"form.user.email\"></Field>\r\n                    <ErrorMessage name=\"email\" class=\"invalid-feedback\" ></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <div class=\"mb-1\">\r\n                        <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n                    </div>\r\n                    <Field type=\"text\" id=\"name\" name=\"姓名\"  class=\"form-control\" placeholder=\"請輸入姓名\" rules=\"required\"\r\n                    :class=\"{ 'is-invalid': errors['姓名'] }\" v-model=\"form.user.name\"></Field>\r\n                    <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <div class=\"mb-1\">\r\n                        <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n                    </div>\r\n                    <Field type=\"text\" id=\"tel\" name=\"電話\" class=\"form-control\" placeholder=\"請輸入電話\" rules=\"required\"\r\n                    :class=\"{ 'is-invalid': errors['電話'] }\" v-model=\"form.user.tel\"></Field>\r\n                    <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <div class=\"mb-1\">\r\n                        <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n                    </div>\r\n                    <Field type=\"text\" id=\"address\" name=\"地址\"  class=\"form-control\" placeholder=\"請輸入地址\" rules=\"required\"\r\n                    :class=\"{ 'is-invalid': errors['地址'] }\" v-model=\"form.user.address\"></Field>\r\n                    <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <div class=\"mb-1\">\r\n                        <label for=\"message\">留言</label>\r\n                    </div>\r\n                    <textarea type=\"text\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\r\n                </div>\r\n                <div class=\"text-end mt-3\">\r\n                    <button class=\"btn btn-danger\">送出訂單</button>\r\n                </div>\r\n            </Form>\r\n        </div>\r\n    </template>\r\n    \r\n    <script>\r\n    export default {\r\n        data(){\r\n            return {\r\n                products:[],\r\n                cart:[],\r\n                isLoading:false,\r\n                status:{\r\n                    loadingItem:''\r\n                },\r\n                form:{\r\n                user:{\r\n                    email:'',\r\n                    name:'',\r\n                    tel:'',\r\n                    address:''\r\n                },\r\n                message:''\r\n            },\r\n            tempOrderId:'',\r\n            code:''\r\n            }\r\n        },\r\n        inject:['emitter'],\r\n        methods:{\r\n            getProducts(){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`;\r\n                this.$http.get(api)\r\n                    .then(res=>{\r\n                        console.log(res.data);\r\n                        this.products = res.data.products;\r\n                    })\r\n            },\r\n            productDetail(id){\r\n                this.$router.push(`/user/product/${id}`)\r\n            },\r\n            addCart(id){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n                this.status.loadingItem = id\r\n                const product = {\r\n                    product_id:id,\r\n                    qty:1\r\n                };\r\n                this.$http.post(api,{data:product})\r\n                    .then(res=>{\r\n                        this.getCart();\r\n                        this.$pushMessage(res,'加入購物車')\r\n                    })\r\n            },\r\n            getCart(){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n                this.isLoading = true;\r\n                this.$http.get(api)\r\n                    .then(res=>{\r\n                        if(res.data.success){\r\n                            this.cart = res.data.data\r\n                            console.log(res);   \r\n                            this.isLoading = false;\r\n                        }\r\n                    })\r\n            },\r\n            deleteCart(id){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n                this.status.loadingItem = id;\r\n                this.$http.delete(api)\r\n                    .then(res=>{\r\n                        console.log(res);\r\n                        this.getCart();\r\n                        this.$pushMessage(res,'刪除');\r\n                    })\r\n            },\r\n            updateCart(item){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\r\n                const product = {\r\n                    product_id:item.id,\r\n                    qty:item.qty\r\n                }\r\n                this.$http.put(api,{data:product})\r\n                    .then(res=>{\r\n                        this.getCart();\r\n                        console.log(res);\r\n                    })\r\n            },\r\n            checkCode(){\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\r\n            const coupon_code ={\r\n                code:this.code\r\n            }\r\n            this.$http.post(api,{data:coupon_code})\r\n                .then(res=>{\r\n                    console.log(res);\r\n                    this.$pushMessage(res,'套用優惠券')\r\n                    this.getCart();\r\n                    this.code = ''\r\n                })\r\n            },\r\n            addOrder(){\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n            const order = this.form\r\n            this.$http.post(api,{data:order})\r\n                .then(res=>{\r\n                    console.log(res);\r\n                    this.tempOrderId = res.data.orderId;\r\n                    this.$router.push(`/user/checkout/${this.tempOrderId}`)\r\n                })\r\n            },\r\n    \r\n        },\r\n        created(){\r\n            this.getProducts();\r\n            this.getCart();\r\n        }\r\n    }\r\n    </script>\r\n    \r\n    <style>\r\n    \r\n    </style>","import { render } from \"./AdminCart.vue?vue&type=template&id=c678d556\"\nimport script from \"./AdminCart.vue?vue&type=script&lang=js\"\nexport * from \"./AdminCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_18","colspan","for","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","products","item","key","id","_hoisted_6","_normalizeStyle","backgroundImage","imageUrl","_toDisplayString","title","origin_price","_hoisted_7","price","_hoisted_8","_ctx","$filter","currency","_hoisted_9","_hoisted_10","type","onClick","$event","$options","productDetail","_hoisted_11","addCart","disabled","status","loadingItem","_hoisted_12","_hoisted_13","_hoisted_14","cart","carts","_hoisted_15","_hoisted_16","deleteCart","_hoisted_20","product","coupon","_hoisted_21","_hoisted_22","min","qty","updateCart","_hoisted_24","unit","_hoisted_25","_hoisted_26","final_total","_hoisted_27","_hoisted_28","total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","placeholder","code","_cache","args","checkCode","_hoisted_33","_component_Form","onSubmit","addOrder","errors","_hoisted_34","_hoisted_35","_component_Field","name","_normalizeClass","rules","form","user","email","_component_ErrorMessage","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","tel","_hoisted_40","_hoisted_41","address","_hoisted_42","_hoisted_43","cols","rows","message","_hoisted_44","data","tempOrderId","inject","methods","getProducts","api","this","$http","get","then","res","console","log","$router","push","product_id","post","getCart","$pushMessage","success","delete","put","coupon_code","order","orderId","created","__exports__","render"],"sourceRoot":""}