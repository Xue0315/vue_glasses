{"version":3,"file":"js/736.67514ff6.js","mappings":"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","sources":["webpack://vue_glasses/./src/views/user/UserProuductItem.vue","webpack://vue_glasses/./src/views/user/UserProuductItem.vue?2fc6"],"sourcesContent":["<template>\r\n    <div class=\"bg-light\">\r\n        <PageLoading :active=\"isLoading\"></PageLoading>\r\n        <router-view></router-view>\r\n        <div class=\"container py-5\">\r\n            <div class=\"row position-relative\">\r\n                <div class=\"col-6\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <router-link to=\"/\" class=\"breadcrumb-item text-primary\">首頁</router-link>\r\n                            <router-link to=\"/products\" class=\"breadcrumb-item\">產品列表</router-link>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><strong>{{tempProduct.title}}</strong></li>\r\n                        </ol>\r\n                    </nav>\r\n                    <div class=\"product-image mx-5\">\r\n                        <div style=\"height:700px; background-size:cover; background-position: center;\" \r\n                            :style=\"{backgroundImage: `url(${productImg})`}\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <div class=\"product-caption h-100\">\r\n                        <div class=\"product-title mb-5\">\r\n                            <h1 class=\"h1 fw-bold \">{{ tempProduct.title }}</h1>\r\n                        </div>\r\n                        <div class=\"product-price w-75 mb-5 d-flex justify-content-between\">\r\n                            <span><strong class=\"fs-5\">{{ $filter.currency(tempProduct.price) }} </strong> 元  / {{ tempProduct.unit }}</span>\r\n                            <button type=\"button\" class=\"fa-solid z-2 fa-heart fs-3 border-0 bg-light \" :class=\"isFavorite(tempProduct.id) ? 'favorite' : ''\" @click.stop=\"favoriteBtn(tempProduct)\">收藏</button>\r\n                        </div>\r\n                        <div class=\"product-content mb-5\">\r\n                            <p class=\"text-secondary\">{{ tempProduct.content }}{{ tempProduct.description }}</p>\r\n                        </div>\r\n                        <div class=\"product-category mb-5\">\r\n                            <span class=\"text-secondary\">#{{ tempProduct.category }}</span>\r\n                        </div>\r\n                        <hr class=\"mt-5 w-100\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <div class=\"control\">\r\n                                    <button class=\"btn ms-auto\"><i class=\"fa-solid fa-minus \" @click=\"changeAmount(-1)\"></i></button>\r\n                                    <span class=\"mx-5\">{{qty}}</span>\r\n                                    <button class=\"btn\"><i class=\"fa-solid fa-plus \"  @click=\"changeAmount(1)\"></i></button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"text-end\">\r\n                                    <button type=\"button\" class=\"btn btn-primary text-white fw-bold w-50\" @click=\"addCart\">\r\n                                        <span class=\"spinner-border spinner-border-sm mx-1\" role=\"status\" aria-hidden=\"true\" v-if=\"status.loadingItem === tempProduct.id\"></span>\r\n                                        <span class=\"visually-hidden\" v-if=\"status.loadingItem === tempProduct.id\">Loading...</span>加入購物車</button>   \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> \r\n        </div>\r\n        <div class=\"saleTitle text-center container my-5 py-5\">\r\n            <h2 class=\"my-5 fw-bold\">促銷商品</h2>\r\n            <ProductOnsale/>\r\n        </div>\r\n        <Footer></Footer>\r\n        <SocialMedia/>\r\n    </div>\r\n</template>\r\n    \r\n<script>\r\nimport ProductOnsale from '@/components/ProductOnsale.vue'\r\nimport SocialMedia from '@/components/SocialMedia.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nexport default {\r\n    data(){\r\n        return {\r\n            qty:1,\r\n            isLoading:false,\r\n            tempProduct:{},\r\n            productTitle:'',\r\n            productImg:'',\r\n            status:{\r\n                loadingItem:''\r\n            },\r\n            favorite:[],\r\n            favoriteIds:[],\r\n        }\r\n    },\r\n    methods:{\r\n        getProduct () {\r\n            this.isLoading = true\r\n            const id = this.$route.params.productId\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n            this.$http.get(api).then((res) => {\r\n                this.isLoading = false\r\n                    if (res.data.success) {\r\n                        this.tempProduct = res.data.product;\r\n                        this.productImg = res.data.product.imageUrl\r\n                        console.log(res);\r\n                    }else{\r\n                        console.log(res);\r\n                    }\r\n                })\r\n            },\r\n        addCart(){\r\n                const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n                this.status.loadingItem = this.tempProduct.id;\r\n                this.status.loadingItem = this.tempProduct.id;\r\n                const product = {\r\n                    product_id:this.tempProduct.id,\r\n                    qty:this.qty\r\n                };\r\n                this.$http.post(api,{data:product})\r\n                    .then(res=>{\r\n                        this.$pushMessage(res,'加入購物車');\r\n                        this.emitter.emit('update-cart');\r\n                        this.status.loadingItem = '';\r\n                })\r\n        },\r\n        getFavorite () {\r\n            this.favorite = JSON.parse(localStorage.getItem('favorite')) || []\r\n            this.favoriteIds = []\r\n            this.favorite.forEach((item) => {\r\n                this.favoriteIds.push(item.id)\r\n            })\r\n        },\r\n        isFavorite (id) {\r\n                return this.favoriteIds.some((item) => item === id)\r\n        },\r\n        favoriteBtn(){\r\n                const id = this.tempProduct.id;\r\n                const hasFavorite = this.favorite.some((item) => item.id === id)\r\n                if(!hasFavorite){\r\n                    this.favorite.push(this.tempProduct);\r\n                    localStorage.setItem('favorite',JSON.stringify(this.favorite));\r\n                    this.$pushMessage(true,'加入收藏');\r\n                }else{\r\n                    const delFavorite = this.favorite.find(item=> item.id === id);\r\n                    this.favorite.splice(this.favorite.indexOf(delFavorite), 1)\r\n                    localStorage.setItem('favorite',JSON.stringify(this.favorite));\r\n                    this.$pushMessage(true,'移除收藏');\r\n                }\r\n                this.getFavorite();\r\n                this.emitter.emit('update-favorite');\r\n        },\r\n        changeAmount(num){\r\n            if(num > 0){\r\n                this.qty += 1;\r\n            }else{\r\n                this.qty -= 1;\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        $route () {\r\n            this.getProduct()\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getProduct();\r\n        this.getFavorite();\r\n    },\r\n    components:{ProductOnsale,Footer,SocialMedia},\r\n    inject:['emitter'],\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.product-caption{\r\n    position: relative;\r\n    top: 120px;\r\n\r\n    hr{\r\n        position: relative;\r\n        top: 80px;\r\n    }\r\n    .product-content{\r\n    width: 480px;\r\n    }   \r\n}\r\n.product-detail{\r\n    top: 150px;\r\n}\r\n.product-image{\r\n    position: relative;\r\n    top: 100px;\r\n}\r\n.breadcrumb{\r\n    position: absolute;\r\n    top: 55px;\r\n    transform: translateX(50px);\r\n}\r\nh2 {\r\n    position: relative;\r\n    &::after{\r\n        content:''; \r\n        position: absolute;\r\n        display: inline-block;\r\n        width: 350px;\r\n        border-bottom: 3px solid #000;\r\n        bottom: 0;\r\n        top: 60px;\r\n        left: 36.5%;\r\n    }\r\n}\r\n.product-price{\r\n        .fa-heart{\r\n        color: #ccc;\r\n        &.favorite,&:hover{\r\n        color: #ff4d4d;\r\n}\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./UserProuductItem.vue?vue&type=template&id=355c8e33&scoped=true\"\nimport script from \"./UserProuductItem.vue?vue&type=script&lang=js\"\nexport * from \"./UserProuductItem.vue?vue&type=script&lang=js\"\n\nimport \"./UserProuductItem.vue?vue&type=style&index=0&id=355c8e33&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-355c8e33\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_createElementBlock","_hoisted_1","_createVNode","_component_PageLoading","active","$data","isLoading","_component_router_view","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","_hoisted_7","_toDisplayString","tempProduct","title","_hoisted_8","style","_normalizeStyle","backgroundImage","productImg","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_ctx","$filter","currency","price","unit","type","_normalizeClass","$options","isFavorite","id","onClick","_cache","_withModifiers","$event","favoriteBtn","_hoisted_15","_hoisted_16","content","description","_hoisted_17","_hoisted_18","category","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","changeAmount","_hoisted_24","qty","_hoisted_25","_hoisted_26","_hoisted_27","args","addCart","status","loadingItem","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_component_ProductOnsale","_component_Footer","_component_SocialMedia","data","productTitle","favorite","favoriteIds","methods","getProduct","this","$route","params","productId","api","$http","get","then","res","success","product","imageUrl","console","log","product_id","post","$pushMessage","emitter","emit","getFavorite","JSON","parse","localStorage","getItem","forEach","item","push","some","hasFavorite","delFavorite","find","splice","indexOf","setItem","stringify","num","watch","mounted","components","ProductOnsale","Footer","SocialMedia","inject","__exports__","render"],"sourceRoot":""}